#pragma checksum "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "9085065eb709ebe909a628f34b15bdceef36670c"
// <auto-generated/>
#pragma warning disable 1591
namespace WebApplication1.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using WebApplication1;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using WebApplication1.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\_Imports.razor"
using BlazorInputFile;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
using WebApplication1.Data.Model;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
using WebApplication1.Data.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/ReportesAdd/{IdProducto:int}")]
    public partial class ReportesAdd : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h1>Adicionar Reporte</h1>\r\n\r\n\r\n\r\n    ");
            __builder.OpenElement(1, "h1");
            __builder.AddAttribute(2, "class", "Destacados");
            __builder.AddContent(3, "Denunciar El Producto: ");
            __builder.AddContent(4, 
#nullable restore
#line 22 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
                                                   productos.Codi_Prod

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(5, "\r\n\r\n    ");
            __builder.OpenElement(6, "table");
            __builder.AddMarkupContent(7, "\r\n        ");
            __builder.OpenElement(8, "tr");
            __builder.AddMarkupContent(9, "\r\n            ");
            __builder.OpenElement(10, "td");
            __builder.AddContent(11, "Fecha: ");
            __builder.AddContent(12, 
#nullable restore
#line 26 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
                        DateTime.Now

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(13, "\r\n            \r\n\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(14, "\r\n        ");
            __builder.OpenElement(15, "tr");
            __builder.AddMarkupContent(16, "\r\n            ");
            __builder.AddMarkupContent(17, "<td>Titulo:</td>\r\n            ");
            __builder.OpenElement(18, "td");
            __builder.OpenElement(19, "input");
            __builder.AddAttribute(20, "type", "text");
            __builder.AddAttribute(21, "required", true);
            __builder.AddAttribute(22, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 32 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
                                                reportes.Name_Repo

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(23, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => reportes.Name_Repo = __value, reportes.Name_Repo));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(24, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(25, "\r\n        ");
            __builder.OpenElement(26, "tr");
            __builder.AddMarkupContent(27, "\r\n            ");
            __builder.AddMarkupContent(28, "<td>Descripcion:</td>\r\n            ");
            __builder.OpenElement(29, "td");
            __builder.OpenElement(30, "input");
            __builder.AddAttribute(31, "type", "text");
            __builder.AddAttribute(32, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 36 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
                                                reportes.Desp_Repo

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(33, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => reportes.Desp_Repo = __value, reportes.Desp_Repo));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(34, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(35, "\r\n\r\n\r\n        ");
            __builder.OpenElement(36, "tr");
            __builder.AddMarkupContent(37, "\r\n            ");
            __builder.OpenElement(38, "td");
            __builder.AddAttribute(39, "colspan", "2");
            __builder.AddMarkupContent(40, "\r\n                ");
            __builder.OpenElement(41, "input");
            __builder.AddAttribute(42, "type", "submit");
            __builder.AddAttribute(43, "value", "Adicionar");
            __builder.AddAttribute(44, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 42 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
                                                                 () => Reportes(reportes.Name_Repo, reportes.Desp_Repo)

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(45, "\r\n                ");
            __builder.OpenElement(46, "input");
            __builder.AddAttribute(47, "type", "button");
            __builder.AddAttribute(48, "value", "Cancelar");
            __builder.AddAttribute(49, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 43 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
                                                                 Cancel

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(50, "\r\n\r\n                \r\n\r\n\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(51, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(52, "\r\n\r\n    ");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 62 "C:\Users\zeusi\Downloads\WebApplication1\WebApplication1\Pages\ReportesAdd.razor"
        Reportes reportes = new Reportes();
    Productos productos = new Productos();


    [Parameter]
    public int IdProducto { get; set; }


    public string UserName = null;


    public string codeusuario = "";

    [CascadingParameter]
    private Task<AuthenticationState> authenticationStateTask { get; set; }

    private string _authMessage;

    private async Task LogUsername()
    {
        var authState = await authenticationStateTask;
        var user = authState.User;

        if (user.Identity.IsAuthenticated)
        {
            _authMessage = $"{user.Identity.Name} is authenticated.";
        }
        else
        {
            _authMessage = "The user is NOT authenticated.";
        }
    }

    protected override async Task OnInitializedAsync()
    {
        //reportes.Fech_Repo = DateTime.Now;
        if (IdProducto > 0)
        {
            productos = await ProductoService.ProductoSelect(IdProducto);
        }

        if (httpContextAccessor.HttpContext.User.Identity.Name != null)
        {
            codeusuario = httpContextAccessor.HttpContext.User.Identity.Name;
        }
        else
        {
            codeusuario = "";
        }

    }







    void Cancel()
    {
        NavigationManager.NavigateTo("/");
    }


    protected async Task Reportes(String a, String b)
    {
        Usuario usuario = new Usuario();
        usuario = await UsuarioService.UsuarioSelect(codeusuario);
        reportes = new Reportes();
        reportes.Codi_ProdProductos = IdProducto;
        reportes.Codi_UserUsuarios = usuario.Id;
        reportes.Fech_Repo = DateTime.Now;
        reportes.Name_Repo = a;
        reportes.Desp_Repo = b;
        await ReportesService.ReportesInsert(reportes);
        NavigationManager.NavigateTo("/");

    }



    

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IHttpContextAccessor httpContextAccessor { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IUsuarioService UsuarioService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IProductoService ProductoService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IReportesService ReportesService { get; set; }
    }
}
#pragma warning restore 1591
